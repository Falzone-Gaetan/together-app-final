import{i as b,j as g,d as _,o as n,e as l,a as e,k as h,f,l as d,v as c,F as y,h as x,n as k,t as v,O as w}from"./app-4c15df97.js";const j={class:"bg-slate-200 pb-6"},C={class:"bg-teal-600 w-full opacity-40"},U=["href"],V=e("svg",{class:"h-6 w-6 fill-current",viewBox:"0 0 24 24"},[e("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"})],-1),D=[V],L={class:"max-w-lg mx-auto"},O=["onSubmit"],z=e("span",{hidden:""},"@csrf",-1),B={class:"relative block w-60 h-80 bg-gray-300 rounded-lg overflow-hidden cursor-pointer mx-auto mt-2 shadow-xl"},F=e("div",{class:"absolute inset-0 flex justify-center items-center"},[e("svg",{class:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2z"})])],-1),M=["src"],S={class:"block mx-4"},E=e("span",{class:"text-gray-700 font-semibold"},"Titre :",-1),R={class:"block mx-4"},A=e("span",{class:"text-gray-700 block font-semibold"},"CatÃ©gorie : ",-1),N={class:"mt-1 inline-block"},T=["onClick"],H={class:"block mx-4"},$=e("span",{class:"text-gray-700 font-semibold"},"Lieu :",-1),q={class:"block mx-4"},G=e("span",{class:"text-gray-700 font-semibold"},"Date :",-1),I={class:"block mx-4"},J=e("span",{class:"text-gray-700 font-semibold"},"Description :",-1),K=e("button",{type:"submit",class:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-700 mx-4 my-2"},"Ajouter",-1),W=b({__name:"Add",props:{activity:{type:Object},categories:{type:Object}},setup(r){const t=g({name:"",description:"",location:"",latitude:"",longitude:"",date:"",image:"",category:""}),i=_(""),u=s=>{const o=s.target.files[0];t.image=o,i.value=URL.createObjectURL(o)},p=()=>{const s=new FormData;s.append("name",t.name),s.append("description",t.description),s.append("location",t.location),s.append("latitude",t.latitude),s.append("longitude",t.longitude),s.append("date",t.date),s.append("category_id",t.category),s.append("image",t.image),w.post("/api/activities/add",s).then(o=>{console.log("Response:",o)}).catch(o=>{console.error("Error:",o)}),console.log(Object.fromEntries(s.entries())),m()},m=()=>{t.name="",t.description="",t.location="",t.latitude="",t.longitude="",t.date="",t.category="",t.image="",i.value=""};return(s,o)=>(n(),l("div",j,[e("div",C,[e("a",{href:s.route("dashboard"),class:"text-white inline-block mx-2 py-2 px-4 basis-2/3"},D,8,U)]),e("div",L,[e("form",{onSubmit:h(p,["prevent"]),class:"grid gap-6"},[z,e("label",B,[e("input",{type:"file",class:"absolute inset-0 opacity-0 z-10",onChange:u},null,32),F,i.value?(n(),l("img",{key:0,src:i.value,class:"absolute inset-0 object-cover w-full h-full"},null,8,M)):f("",!0)]),e("label",S,[E,d(e("input",{type:"text",class:"mt-1 border-none w-full rounded-lg bg-teal-500 bg-opacity-30 focus:outline-none","onUpdate:modelValue":o[0]||(o[0]=a=>t.name=a)},null,512),[[c,t.name]])]),e("label",R,[A,(n(!0),l(y,null,x(r.categories,a=>(n(),l("div",N,[(n(),l("button",{key:a.id,type:"button",class:k(["mr-2 mb-2 px-4 py-2 bg-teal-200 rounded-lg bg-opacity-90 border-4",{"bg-teal-700 text-white":t.category===a.id}]),onClick:P=>t.category=a.id},v(a.name),11,T))]))),256))]),e("label",H,[$,d(e("input",{type:"text",class:"mt-1 block w-full rounded-lg border-none bg-teal-500 bg-opacity-30 focus:outline-none","onUpdate:modelValue":o[1]||(o[1]=a=>t.location=a)},null,512),[[c,t.location]])]),e("label",q,[G,d(e("input",{type:"datetime-local",class:"mt-1 block w-full rounded-lg border-none bg-teal-500 bg-opacity-30 focus:outline-none","onUpdate:modelValue":o[2]||(o[2]=a=>t.date=a)},null,512),[[c,t.date]])]),e("label",I,[J,d(e("textarea",{class:"mt-1 block w-full rounded-lg h-52 border-none bg-teal-500 bg-opacity-30 focus:outline-none","onUpdate:modelValue":o[3]||(o[3]=a=>t.description=a)},null,512),[[c,t.description]])]),K],40,O)])]))}});export{W as default};
